import{r as d,o as v,a as r,c,b as o,t as i,F as h,d as _,e as m,n as f}from"./index.0a460af2.js";const y={key:0,class:"bg-white bg-opacity-50 min-h-screen p-4"},x={class:"text-4xl font-bold mb-4 text-gray-800"},b={class:"mr-4"},B={__name:"Results",setup(g){const u="http://localhost:5000/api",e=d(null);return v(async()=>{const t=await fetch(`${u}/poll/active`).then(s=>s.json());t.poll!=null&&(e.value={title:t.poll.title,options:t.poll.options,votes:t.poll.votes},setInterval(async()=>{const s=await fetch(`${u}/poll/results`).then(l=>l.json());s.success&&(e.value.votes=s.votes)},1e3))}),(t,s)=>e.value?(r(),c("main",y,[o("h3",x,i(e.value.title),1),(r(!0),c(h,null,_(e.value.votes,(l,p)=>(r(),c("div",null,[o("div",{class:"bg-gray-800 p-4 text-xl text-white rounded mb-2 flex justify-between",style:f(`width: ${Math.round(l/e.value.votes.reduce((a,n)=>a+n,0)*100)+"%"}`)},[o("span",b,i(e.value.options[p]),1),o("span",null,i(Math.round(l/e.value.votes.reduce((a,n)=>a+n,0)*100)+"%"),1)],4)]))),256))])):m("",!0)}};export{B as default};
